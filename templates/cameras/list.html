{% extends 'base.html' %}
{% block content %}
<h1 class="text-xl font-bold mb-4">Camera Management</h1>
<a class="text-blue-600" href="{{ url_for('cameras.new_camera_form') }}">+ Add Camera</a>
<table class="table-auto w-full border mt-2">
  <tr class="bg-gray-200">
    <th class="px-2 py-1">Name</th>
    <th class="px-2 py-1">Zone</th>
    <th class="px-2 py-1">IP Address</th>
    <th class="px-2 py-1">URL</th>
    <th class="px-2 py-1">Scanning</th>
    <th class="px-2 py-1">Actions</th>
  </tr>
  {% for cam in cameras %}
  <tr class="border-t">
    <td class="px-2 py-1">{{ cam.name }}</td>
    <td class="px-2 py-1">{{ cam.zone }}</td>
    <td class="px-2 py-1">{{ cam.ip_address }}</td>
    <td class="px-2 py-1">{{ cam.url }}</td>
    <td class="px-2 py-1">{{ 'Yes' if cam.scanning else 'No' }}</td>
    <td class="px-2 py-1">
      <a class="text-blue-600 mr-2" href="{{ url_for('cameras.view_camera', camera_id=cam.id) }}">View</a>
      <a class="text-blue-600 mr-2" href="{{ url_for('cameras.edit_camera_form', camera_id=cam.id) }}">Edit</a>
      <form action="{{ url_for('cameras.delete_camera', camera_id=cam.id) }}" method="post" style="display:inline;">
        <button class="text-red-600" type="submit" onclick="return confirm('Delete camera?');">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
